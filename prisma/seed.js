// Seeds an admin user and prints an API key for testing\nconst { PrismaClient } = require('@prisma/client');\nconst bcrypt = require('bcrypt');\nconst { v4: uuidv4 } = require('uuid');\n\nconst prisma = new PrismaClient();\n\nasync function main() {\n  const adminEmail = 'admin@example.com';\n  const existing = await prisma.user.findUnique({ where: { email: adminEmail }});\n  if (!existing) {\n    const hashed = await bcrypt.hash('AdminPassword123!', 10);\n    await prisma.user.create({\n      data: {\n        email: adminEmail,\n        password: hashed,\n        role: 'admin',\n      }\n    });\n    console.log(`Created admin ${adminEmail} / AdminPassword123! (change immediately)`);\n  }\n\n  const apiKey = uuidv4();\n  await prisma.apiKey.create({\n    data: {\n      key: apiKey,\n      name: 'initial-integration-key'\n    }\n  });\n  console.log('Created API key:', apiKey);\n}\n\nmain()\n  .catch(e => { console.error(e); process.exit(1); })\n  .finally(async () => { await prisma.$disconnect(); });\n