require('dotenv').config();\nconst express = require('express');\nconst helmet = require('helmet');\nconst rateLimit = require('express-rate-limit');\nconst cors = require('cors');\nconst cookieParser = require('cookie-parser');\nconst { PrismaClient } = require('@prisma/client');\n\nconst prisma = new PrismaClient();\nconst authRoutes = require('./src/routes/auth');\nconst productRoutes = require('./src/routes/products');\n\nconst app = express();\nconst PORT = process.env.PORT || 4000;\n\napp.use(helmet());\napp.use(express.json());\napp.use(cookieParser());\napp.use(express.static('public'));\n\nconst limiter = rateLimit({\n  windowMs: 15 * 60 * 1000,\n  max: 200\n});\napp.use(limiter);\n\napp.use(cors({\n  origin: process.env.FRONTEND_ORIGIN || true,\n  credentials: true\n}));\n\napp.use('/api/auth', authRoutes(prisma));\napp.use('/api/products', productRoutes(prisma));\n\napp.get('/health', (req, res) => res.json({ status: 'ok' }));\n\napp.listen(PORT, () => {\n  console.log(`Server listening on port ${PORT}`);\n});\n